> rest-express@1.0.0 dev
> tsx server/index.ts

5:18:00 PM [express] serving on port 5000
5:18:04 PM [express] GET /api/user 401 in 3ms
5:18:06 PM [express] POST /api/login 200 in 215ms :: {"message":"Login successful","user":{"id":1,"u…
5:18:06 PM [express] GET /api/user 304 in 39ms :: {"id":1,"username":"webb","password":"f7759c34d259…
5:18:07 PM [express] GET /api/shelves 304 in 74ms :: [{"id":1,"name":"moscow","description":"","owne…
5:18:07 PM [express] GET /api/books 304 in 190ms :: [{"id":1,"title":"ssdfgd","author":"fdgsdfg","de…
/home/runner/BookShareHub/server/routes.ts:218
      .innerJoin(shelfBooks, eq(books.id, shelfBooks.bookId))
                 ^


ReferenceError: Cannot access 'shelfBooks2' before initialization
    at <anonymous> (/home/runner/BookShareHub/server/routes.ts:218:18)
    at Layer.handle [as handle_request] (/home/runner/BookShareHub/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/BookShareHub/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/BookShareHub/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/BookShareHub/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/BookShareHub/node_modules/express/lib/router/index.js:284:15
    at param (/home/runner/BookShareHub/node_modules/express/lib/router/index.js:365:14)
    at param (/home/runner/BookShareHub/node_modules/express/lib/router/index.js:376:14)
    at Function.process_params (/home/runner/BookShareHub/node_modules/express/lib/router/index.js:421:3)
    at next (/home/runner/BookShareHub/node_modules/express/lib/router/index.js:280:10)
    at strategy.pass (/home/runner/BookShareHub/node_modules/passport/lib/middleware/authenticate.js:355:9)
    at /home/runner/BookShareHub/node_modules/passport/lib/strategies/session.js:120:12
    at pass (/home/runner/BookShareHub/node_modules/passport/lib/authenticator.js:352:31)
    at deserialized (/home/runner/BookShareHub/node_modules/passport/lib/authenticator.js:364:7)
    at <anonymous> (/home/runner/BookShareHub/server/auth.ts:94:7)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)

Node.js v20.18.1